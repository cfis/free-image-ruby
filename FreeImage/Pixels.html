<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module FreeImage::Pixels - FreeImage</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-bits">#bits</a>
    
    <li ><a href="#method-i-pixel_color">#pixel_color</a>
    
    <li ><a href="#method-i-pixel_index">#pixel_index</a>
    
    <li ><a href="#method-i-scanline">#scanline</a>
    
    <li ><a href="#method-i-set_pixel_color">#set_pixel_color</a>
    
    <li ><a href="#method-i-set_pixel_index">#set_pixel_index</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-FreeImage::Pixels">
  <h1 id="module-FreeImage::Pixels" class="module">
    module FreeImage::Pixels
  </h1>

  <section class="description">
    
<h2 id="module-FreeImage::Pixels-label-Summary">Summary<span><a href="#module-FreeImage::Pixels-label-Summary">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The Pixel module provides methods that allow you to read, write and work
pixel-by-pixel with image data. FreeImage not only can work with standard
bitmap data (e.g. 1-, 4-, 8-, 16-, 24- and 32-bit) but also with scientific
data such as 16-bit greyscale images, or images made up of long, double or
complex values (often used in signal and image processing algorithms).</p>

<p>The FreeImage coordinate system is upside down relative to usual graphics
conventions. Thus, the scanlines are stored upside down, with the first
scan in memory being the bottommost scan in the image.</p>

<p>For additional information, please refer to the <a
href="Scanline.html">FreeImage::Scanline</a> documentation.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-bits" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bits</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the data-bits of the bitmap. It is up to you to interpret these
bytes correctly, according to the results of <a
href="Information.html#method-i-bits_per_pixel">FreeImage::Information#bits_per_pixel</a>,
<a
href="Information.html#method-i-red_mask">FreeImage::Information#red_mask</a>,
<a
href="Information.html#method-i-green_mask">FreeImage::Information#green_mask</a>
and <a
href="Information.html#method-i-blue_mask">FreeImage::Information#blue_mask</a>.</p>

<p>If the bitmap does not contain pixel data (see <a
href="Information.html#method-i-has_pixels">FreeImage::Information#has_pixels</a>),
nil will be returned.</p>

<p>For a performance reason, the address returned by FreeImage_GetBits is
aligned on a 16 bytes alignment boundary</p>
          
          

          
          <div class="method-source-code" id="bits-source">
            <pre><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bits</span>
  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetBits</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>
  <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">read_string</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pixel_color" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pixel_color</span><span
            class="method-args">(x, y)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Gets the pixel color of a 16-, 24- or 32-bit image at the specified
coordinate.</p>

<h2 id="method-i-pixel_color-label-Parameters">Parameters<span><a href="#method-i-pixel_color-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt>x
<dd>
<p>The pixel position in horizontal direction</p>
</dd><dt>y
<dd>
<p>The pixel position in vertical direction.</p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="pixel_color-source">
            <pre><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pixel_color</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
  <span class="ruby-identifier">color</span> = <span class="ruby-constant">RGBQuad</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetPixelColor</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">color</span>)
  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">color</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pixel_index" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pixel_index</span><span
            class="method-args">(x, y)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Gets the pixel index of a palettized image at the specified coordinate.</p>

<h2 id="method-i-pixel_index-label-Parameters">Parameters<span><a href="#method-i-pixel_index-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt>x
<dd>
<p>The pixel position in horizontal direction</p>
</dd><dt>y
<dd>
<p>The pixel position in vertical direction.</p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="pixel_index-source">
            <pre><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pixel_index</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
  <span class="ruby-identifier">byte_type</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">find_type</span>(<span class="ruby-value">:byte</span>)
  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FFI</span><span class="ruby-operator">::</span><span class="ruby-constant">MemoryPointer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">byte_type</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetPixelIndex</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">ptr</span>)
  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span>
  
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">read_bytes</span>(<span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">data</span>.<span class="ruby-identifier">ord</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">data</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-scanline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scanline</span><span
            class="method-args">(index)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the requested row of image data as a <a
href="Scanline.html">FreeImage::Scanline</a> instance.</p>

<p>If the bitmap does not contain pixel data (see <a
href="Information.html#method-i-has_pixels">FreeImage::Information#has_pixels</a>),
nil will be returned.</p>
          
          

          
          <div class="method-source-code" id="scanline-source">
            <pre><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scanline</span>(<span class="ruby-identifier">index</span>)
  <span class="ruby-keyword">unless</span> (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">height</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">index</span>)
    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">RangeError</span>, <span class="ruby-node">&quot;Index must be between 0 and #{self.height - 1}&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetScanLine</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">index</span>)
  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>

  <span class="ruby-identifier">ptr</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Scanline</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">index</span>, <span class="ruby-identifier">ptr</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-set_pixel_color" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_pixel_color</span><span
            class="method-args">(x, y, color)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the pixel color of a 16-, 24- or 32-bit image at the specified
coordinate.</p>

<h2 id="method-i-set_pixel_color-label-Parameters">Parameters<span><a href="#method-i-set_pixel_color-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt>x
<dd>
<p>The pixel position in horizontal direction</p>
</dd><dt>y
<dd>
<p>The pixel position in vertical direction.</p>
</dd><dt>color
<dd>
<p>The new color as a RGBAQuad instance.</p>
</dd></dl>

<p>The function returns true on success and false otherwise.</p>
          
          

          
          <div class="method-source-code" id="set_pixel_color-source">
            <pre><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_pixel_color</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">color</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_SetPixelColor</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">color</span>)
  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-set_pixel_index" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_pixel_index</span><span
            class="method-args">(x, y, index)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the pixel index of a palettized image at the specified coordinate.</p>

<h2 id="method-i-set_pixel_index-label-Parameters">Parameters<span><a href="#method-i-set_pixel_index-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt>x
<dd>
<p>The pixel position in horizontal direction</p>
</dd><dt>y
<dd>
<p>The pixel position in vertical direction.</p>
</dd></dl>

<p>The function returns true on success and false otherwise.</p>
          
          

          
          <div class="method-source-code" id="set_pixel_index-source">
            <pre><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_pixel_index</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">index</span>)
  <span class="ruby-identifier">byte_type</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">find_type</span>(<span class="ruby-value">:byte</span>)
  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FFI</span><span class="ruby-operator">::</span><span class="ruby-constant">MemoryPointer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">put_bytes</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">index</span>.<span class="ruby-identifier">chr</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">put_bytes</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">index</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_SetPixelIndex</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">ptr</span>)
  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

