<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>FreeImage::Pixels</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          FreeImage::Pixels
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../files/lib/free-image/modules/pixels_rb.html">lib/free-image/modules/pixels.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <h2 id="module-FreeImage::Pixels-label-Summary">Summary<span><a href="#module-FreeImage::Pixels-label-Summary">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>The Pixel module provides methods that allow you to read, write and work
            pixel-by-pixel with image data. FreeImage not only can work with standard
            bitmap data (e.g. 1-, 4-, 8-, 16-, 24- and 32-bit) but also with scientific
            data such as 16-bit greyscale images, or images made up of long, double or
            complex values (often used in signal and image processing algorithms).</p>
            
            <p>The FreeImage coordinate system is upside down relative to usual graphics
            conventions. Thus, the scanlines are stored upside down, with the first
            scan in memory being the bottommost scan in the image.</p>
            
            <p>For additional information, please refer to the <a
            href="Scanline.html">FreeImage::Scanline</a> documentation.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-bits">bits</a></li>
              <li><a target="docwin" href="#method-i-pixel_color">pixel_color</a></li>
              <li><a target="docwin" href="#method-i-pixel_index">pixel_index</a></li>
              <li><a target="docwin" href="#method-i-scanline">scanline</a></li>
              <li><a target="docwin" href="#method-i-set_pixel_color">set_pixel_color</a></li>
              <li><a target="docwin" href="#method-i-set_pixel_index">set_pixel_index</a></li>
            </ol>
          </div>
          <div id='context'>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-bits'>
                <a name='method-i-bits'></a>
                <div class='synopsis'>
                  <span class='name'>bits</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Returns the data-bits of the bitmap. It is up to you to interpret these
                  bytes correctly, according to the results of <a
                  href="Information.html#method-i-bits_per_pixel">FreeImage::Information#bits_per_pixel</a>,
                  <a
                  href="Information.html#method-i-red_mask">FreeImage::Information#red_mask</a>,
                  <a
                  href="Information.html#method-i-green_mask">FreeImage::Information#green_mask</a>
                  and <a
                  href="Information.html#method-i-blue_mask">FreeImage::Information#blue_mask</a>.</p>
                  
                  <p>If the bitmap does not contain pixel data (see <a
                  href="Information.html#method-i-has_pixels">FreeImage::Information#has_pixels</a>),
                  nil will be returned.</p>
                  
                  <p>For a performance reason, the address returned by FreeImage_GetBits is
                  aligned on a 16 bytes alignment boundary</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-bits-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-bits-source'><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 45</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">bits</span>&#x000A;  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetBits</span>(<span class="ruby-keyword">self</span>)&#x000A;  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>&#x000A;  <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">read_string</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-pixel_color'>
                <a name='method-i-pixel_color'></a>
                <div class='synopsis'>
                  <span class='name'>pixel_color</span>
                  <span class='arguments'>(x, y)</span>
                </div>
                <div class='description'>
                  
                  <p>Gets the pixel color of a 16-, 24- or 32-bit image at the specified
                  coordinate.</p>
                  
                  <h2 id="method-i-pixel_color-label-Parameters">Parameters<span><a href="#method-i-pixel_color-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
                  <table class="rdoc-list note-list"><tbody><tr><td class='label'>x</td><td>
                  <p>The pixel position in horizontal direction</p>
                  </td></tr><tr><td class='label'>y</td><td>
                  <p>The pixel position in vertical direction.</p>
                  </td></tr></tbody></table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-pixel_color-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-pixel_color-source'><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 113</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">pixel_color</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)&#x000A;  <span class="ruby-identifier">color</span> = <span class="ruby-constant">RGBQuad</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetPixelColor</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">color</span>)&#x000A;  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>&#x000A;  <span class="ruby-identifier">result</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">color</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-pixel_index'>
                <a name='method-i-pixel_index'></a>
                <div class='synopsis'>
                  <span class='name'>pixel_index</span>
                  <span class='arguments'>(x, y)</span>
                </div>
                <div class='description'>
                  
                  <p>Gets the pixel index of a palettized image at the specified coordinate.</p>
                  
                  <h2 id="method-i-pixel_index-label-Parameters">Parameters<span><a href="#method-i-pixel_index-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
                  <table class="rdoc-list note-list"><tbody><tr><td class='label'>x</td><td>
                  <p>The pixel position in horizontal direction</p>
                  </td></tr><tr><td class='label'>y</td><td>
                  <p>The pixel position in vertical direction.</p>
                  </td></tr></tbody></table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-pixel_index-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-pixel_index-source'><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 71</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">pixel_index</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)&#x000A;  <span class="ruby-identifier">byte_type</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">find_type</span>(<span class="ruby-value">:byte</span>)&#x000A;  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FFI</span><span class="ruby-operator">::</span><span class="ruby-constant">MemoryPointer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">byte_type</span>)&#x000A;  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetPixelIndex</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">ptr</span>)&#x000A;  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>&#x000A;  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span>&#x000A;  &#x000A;  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">read_bytes</span>(<span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>&#x000A;    <span class="ruby-identifier">data</span>.<span class="ruby-identifier">ord</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">data</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-scanline'>
                <a name='method-i-scanline'></a>
                <div class='synopsis'>
                  <span class='name'>scanline</span>
                  <span class='arguments'>(index)</span>
                </div>
                <div class='description'>
                  
                  <p>Returns the requested row of image data as a <a
                  href="Scanline.html">FreeImage::Scanline</a> instance.</p>
                  
                  <p>If the bitmap does not contain pixel data (see <a
                  href="Information.html#method-i-has_pixels">FreeImage::Information#has_pixels</a>),
                  nil will be returned.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-scanline-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-scanline-source'><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 55</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">scanline</span>(<span class="ruby-identifier">index</span>)&#x000A;  <span class="ruby-keyword">unless</span> (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">height</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">index</span>)&#x000A;    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">RangeError</span>, <span class="ruby-node">&quot;Index must be between 0 and #{self.height - 1}&quot;</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_GetScanLine</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">index</span>)&#x000A;  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>&#x000A;&#x000A;  <span class="ruby-identifier">ptr</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Scanline</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">index</span>, <span class="ruby-identifier">ptr</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-set_pixel_color'>
                <a name='method-i-set_pixel_color'></a>
                <div class='synopsis'>
                  <span class='name'>set_pixel_color</span>
                  <span class='arguments'>(x, y, color)</span>
                </div>
                <div class='description'>
                  
                  <p>Sets the pixel color of a 16-, 24- or 32-bit image at the specified
                  coordinate.</p>
                  
                  <h2 id="method-i-set_pixel_color-label-Parameters">Parameters<span><a href="#method-i-set_pixel_color-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
                  <table class="rdoc-list note-list"><tbody><tr><td class='label'>x</td><td>
                  <p>The pixel position in horizontal direction</p>
                  </td></tr><tr><td class='label'>y</td><td>
                  <p>The pixel position in vertical direction.</p>
                  </td></tr><tr><td class='label'>color</td><td>
                  <p>The new color as a RGBAQuad instance.</p>
                  </td></tr></tbody></table>
                  
                  <p>The function returns true on success and false otherwise.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-set_pixel_color-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-set_pixel_color-source'><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 129</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_pixel_color</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">color</span>)&#x000A;  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_SetPixelColor</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">color</span>)&#x000A;  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>&#x000A;  <span class="ruby-identifier">result</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-set_pixel_index'>
                <a name='method-i-set_pixel_index'></a>
                <div class='synopsis'>
                  <span class='name'>set_pixel_index</span>
                  <span class='arguments'>(x, y, index)</span>
                </div>
                <div class='description'>
                  
                  <p>Sets the pixel index of a palettized image at the specified coordinate.</p>
                  
                  <h2 id="method-i-set_pixel_index-label-Parameters">Parameters<span><a href="#method-i-set_pixel_index-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h2>
                  <table class="rdoc-list note-list"><tbody><tr><td class='label'>x</td><td>
                  <p>The pixel position in horizontal direction</p>
                  </td></tr><tr><td class='label'>y</td><td>
                  <p>The pixel position in vertical direction.</p>
                  </td></tr></tbody></table>
                  
                  <p>The function returns true on success and false otherwise.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-set_pixel_index-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-set_pixel_index-source'><span class="ruby-comment"># File lib/free-image/modules/pixels.rb, line 94</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_pixel_index</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">index</span>)&#x000A;  <span class="ruby-identifier">byte_type</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">find_type</span>(<span class="ruby-value">:byte</span>)&#x000A;  <span class="ruby-identifier">ptr</span> = <span class="ruby-constant">FFI</span><span class="ruby-operator">::</span><span class="ruby-constant">MemoryPointer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>&#x000A;    <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">put_bytes</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">index</span>.<span class="ruby-identifier">chr</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">ptr</span>.<span class="ruby-identifier">put_bytes</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">index</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">byte_type</span>.<span class="ruby-identifier">size</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-identifier">result</span> = <span class="ruby-constant">FreeImage</span>.<span class="ruby-constant">FreeImage_SetPixelIndex</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">ptr</span>)&#x000A;  <span class="ruby-constant">FreeImage</span>.<span class="ruby-identifier">check_last_error</span>&#x000A;  <span class="ruby-identifier">result</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
